default:
  autoload:
    - ./features/bootstrap
  suites:
    default:
      paths:
        - ./features
      contexts:
        - FeatureContext:
            admin:
              username: admin
              password: Mypassword123+
        - MailContext:
            mail_dir: build/mails
        - SubscriberContext
        - UserContext
        - FailAid\Context\FailureContext
  extensions:
    Behat\MinkExtension:
      show_cmd: 'cp %s ./output/lastResponse.html'
      base_url: 'http://127.0.0.1'
      files_path: "files/"
      default_session: chrome
      sessions:
        chrome:
          selenium2:
            browser: chrome
            capabilities:
              browserName: chrome
              browser: chrome
              version: ""
              # extra_capabilities:
              #   timeouts:
              #     implicit: 10000    # 10 seconds for implicit waits
              #     pageLoad: 60000    # 30 seconds for page loads
              #     script: 60000      # 30 seconds for async scripts
              chrome:
                switches:
                  - "--headless"
                  - "--disable-gpu"
                  - "--window-size=2000,2000"
                  - "--lang=en"
        firefox:
          selenium2:
            wd_host: http://127.0.0.1:4444/wd/hub
            capabilities:
              browser: firefox
              version: ""
              marionette: true
        javascript:
          selenium2:
            browser: "firefox"
            wd_host: http://127.0.0.1:4444/wd/hub
    FailAid\Extension:
      screenshot:
        directory: /tmp/screenshots/
        mode: default
        autoClean: false

chrome:
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      default_session: chrome
firefox:
  extensions:
    Behat\MinkExtension:
      default_session: firefox
      browser_name: firefox
